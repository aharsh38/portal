<div class="md-parents" layout="row" layout-align="center center" layout-margin flex>
    <div class="md-whiteframe-9dp bg-white padding-gt-xs-4 padding-xs-1 margin-top-xs-2 margin-top-gt-xs-5" flex-xs="90" flex-gt-xs="30"  layout-align="center center">
        <form name="forgotPasswordSetForm" ng-model="forgotPasswordSetForm" layout="column" ng-submit="$event.preventDefault()">
            <h2 class="margin-bottom-2" ng-class="{'text-warn':!ffpsc.token}">Set New Password</h2>
            <md-input-container ng-show="!ffpsc.applied && ffpsc.token">
                <label>New Password</label>

                <input required type="password" name="password" ng-model="ffpsc.user.password" minlength="6" maxlength="15" />
                <div ng-messages="forgotPasswordSetForm.password.$error" role="alert">
                    <div ng-message="required">Required</div>
                    <div ng-message="minlength">Password should be of minimum 6 characters</div>
                </div>
            </md-input-container>

            <md-input-container ng-show="!ffpsc.applied && ffpsc.token">
                <label>Confirm Password</label>
                <input required type="password" name="confirmPassword" match="ffpsc.user.password" ng-model="ffpsc.user.confirmPassword" minlength="6" maxlength="15" />
                <div ng-messages="forgotPasswordSetForm.confirmPassword.$error" role="alert">
                    <div ng-message="required">Required</div>
                    <div ng-message="minlength">Password should be of minimum 6 characters</div>
                    <div ng-message="match">Passwords must match</div>
                </div>
            </md-input-container>

            <div class="text-success margin-tb-2" ng-show="ffpsc.set">
                <p class="text-success" ng-show="!ffpsc.error">Password Successfuly Changed</p>
                <p class="text-warn" ng-show="ffpsc.error">{{ffpsc.errorMsg}}</p>
            </div>

            <md-input-container  ng-show="!ffpsc.applied && ffpsc.token" layout="row" layout-align="center center">
                <md-button flex="60" class="md-raised md-primary" layout="row" layout-align="center center" ng-disabled="forgotPasswordSetForm.$invalid" type="submit" ng-click="ffpsc.changePassword($event)">
                    <b ng-show="!ffpsc.changePasswordButtonClicked">Change Password</b>
                    <md-progress-circular ng-show="ffpsc.changePasswordButtonClicked" ng-disabled="forgotPasswordSetForm.$invalid" class="md-black mini" md-diameter="20px"></md-progress-circular>
                </md-button>
            </md-input-container>

            <p class="text-warn text-center margin-tb-4" ng-show="!ffpsc.token">
                <strong>Token Not Available !!!</strong><br>
                [Wrong Page]
            </p>

            <div class="margin-top-2" layout="row" layout-align="space-between center">
                <md-button class="md-primary" ui-sref="^.register">Register</md-button>
                <md-button class="md-primary" ui-sref="^.login">Login</md-button>
            </div>
        </form>
    </div>
</div>
