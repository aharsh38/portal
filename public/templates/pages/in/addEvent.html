<!DOCTYPE html>
<div class="margin-tb-gt-xs-4 margin-lr-gt-xs-2 bg-white margin-xs-1 padding-tb-3 padding-lr-2 page" md-whiteframe="5">
    <div flex layout="row">
      <md-button class="md-icon-button md-raised md-primary" ui-sref="in_tc.showEvent" md-no-ink="true"
        ng-show="ec.isUpdate">
          <ng-md-icon icon="arrow_back" size="20">
          </ng-md-icon>
      </md-button>
      <h2>{{ ec.myEvent.event }} Event</h2>
    </div>
    <form class="al-add-event-page margin-top-2" layout-gt-xs="row" layout-xs="column"
      name="myEvent" layout-wrap>
        <div layout="column" flex="100">
            <md-input-container>
              <label>Event Name</label>
              <input name="eventName" required="" md-maxlength="100"
                ng-model="ec.myEvent.name">
              <div ng-messages="myEvent.eventName.$error">
                <div ng-message="required">This Field Is Required.</div>
                <div ng-message="md-maxlength">The event name has to be less than 100 characters long.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Tag Line</label>
              <input name="tagLine" required="" md-maxlength="200"
                ng-model="ec.myEvent.tagline">
              <div ng-messages="myEvent.tagLine.$error">
                <div ng-message="required">This Field Is Required.</div>
                <div ng-message="md-maxlength">The event name has to be less than 100 characters long.</div>
              </div>
            </md-input-container>
            <md-input-container class="md-block">
              <label>Description</label>
              <textarea name="description" ng-model="ec.myEvent.description" md-maxlength="1000" rows="5"></textarea>
              <div ng-messages="myEvent.description.$error">
                <div ng-message="required">This Field Is Required.</div>
                <div ng-message="md-maxlength">The event name has to be less than 100 characters long.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Problem Statement</label>
              <input required="" ng-model="ec.myEvent.problem_statement" name="problemStatement">
              <div ng-messages="myEvent.problemStatement.$error">
                <div ng-message="required">This Field Is Required.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Event Short Code</label>
              <input required="" ng-model="ec.myEvent.shortcode" name="eventCode">
              <div ng-messages="myEvent.eventCode.$error">
                <div ng-message="required">This Field Is Required.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Fees</label>
              <input required="" ng-model="ec.myEvent.fees" name="fees">
              <div ng-messages="myEvent.fees.$error">
                <div ng-message="required">This Field Is Required.</div>
                <div ng-message="number">Please Enter A Valid Amount.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Fee Type</label>
              <md-select ng-model="ec.myEvent.fee_type" name="fee_type" required="">
                <md-option value="ce">Cash</md-option>
                <md-option value="it">Paytm</md-option>
              </md-select>
              <div ng-messages="myEvent.feeType.$error">
                <div ng-message="required">This Field Is Required.</div>
              </div>
            </md-input-container>
              Do Payment
              <md-switch ng-model="ec.myEvent.do_payment" aria-label="Switch 1">
            </md-switch>
            <md-input-container>
              <label>Event Section</label>
              <md-select ng-model="ec.myEvent.section" name="eventSection" required="">
                <md-option value="ce">Computer</md-option>
                <md-option value="it">IT</md-option>
              </md-select>
              <div ng-messages="myEvent.eventSection.$error">
                <div ng-message="required">This Field Is Required.</div>
              </div>
            </md-input-container>
            <md-input-container>
              <label>Number Of Managers</label>
              <md-select ng-model="ec.myEvent.totalManager"
                ng-change="ec.openManagersModal(ec.myEvent.totalManager)" name="eventSection" required="">
                <md-option value="1">1</md-option>
                <md-option value="2">2</md-option>
                <md-option value="3">3</md-option>
              </md-select>
              <div ng-messages="myEvent.eventSection.$error">
                <div ng-message="required">This Field Is Required.</div>
              </div>
            </md-input-container>
            <div ng-repeat="each in ec.myEvent.managers" flex>
              <md-input-container>
                <label>Manager Name</label>
                <input required="" ng-model="ec.myEvent.managers[$index].manager_name" name="leaderName">
                <div ng-messages="myEvent.leaderName.$error">
                  <div ng-message="required">This Field Is Required.</div>
                  <div ng-message="email">Please Enter Valid Email Address.</div>
                </div>
              </md-input-container>
              <md-input-container flex-gt-xs="50">
                <label>Contact Number</label>
                <input required="" ng-model="aec.myEvent.contactNumber"
                  ng-pattern="/^[(][0-9]{3}[)] [0-9]{3}-[0-9]{4}$/" name="contactNumber">
                <div ng-messages="myEvent.contactNumber.$error">
                  <div ng-message="required">This Field Is Required.</div>
                  <div ng-message="pattern">Please Enter Valid Phone Number.</div>
                </div>
              </md-input-container>
              <div layout="row" layout-align="space-between" layout-wrap>
                <md-input-container flex-gt-xs="50">
                  <label>Email</label>
                  <input required="" ng-model="ec.myEvent.managers[$index].email_id" name="email">
                  <div ng-messages="myEvent.email.$error">
                    <div ng-message="required">This Field Is Required.</div>
                    <div ng-message="email">Please Enter Valid Email Address.</div>
                  </div>
                </md-input-container>
                <md-input-container flex-gt-xs="50">
                  <label>Contact Number</label>
                  <input required="" ng-model="ec.myEvent.managers[$index].contact_number"
                    ng-pattern="/^(\+\d{1,3}[- ]?)?\d{10}$/" name="contactNumber">
                  <div ng-messages="myEvent.contactNumber.$error">
                    <div ng-message="required">This Field Is Required.</div>
                    <div ng-message="pattern">Please Enter Valid Phone Number.</div>
                  </div>
                </md-input-container>
              </div>
            </div>
            <!-- <ng-file-model files=""></ng-file-model>
            <input type="file" ng-file-model multiple accept="application/pdf,application/msword,
              application/vnd.openxmlformats-officedocument.wordprocessingml.document"
              filesdata="ec">
    				<div ng-repeat="x in ec.files">
    					{{x.name}} - {{x.progress}}
    					<br/>
    					<div class="progress_bar">
    						<div class="progress_bar_uploaded" data-ng-style="{'width': x.progress + '%'}"></div>
    					</div>
    				</div> -->
            <!-- <file-upload class="btn btn-success btn-rad btn-trans file-upload" name="userFile" resize="true"
              max-width="1280" max-height="1280" ng-model="my.foo.model" multiple="false" uri="/api/members/upload"
              accept="application/pdf,application/msword,
              application/vnd.openxmlformats-officedocument.wordprocessingml.document">
              <i class="fa fa-upload"></i>
              <span>Upload Files</span>
              <ul>
                  <li ng-repeat="p in my.foo.model" ng-hide="p.percent == 100">
                      <small>{{ p.name }}</small>
                      <div class="progress">
                          <div class="progress-bar" style="width: {{ p.percent }}%;"></div>
                      </div>
                  </li>
              </ul>
          </file-upload> -->
          <button ngf-select="ec.uploadFiles($files, $invalidFiles)" multiple
              accept="application/pdf,application/msword,
                application/vnd.openxmlformats-officedocument.wordprocessingml.document" ngf-max-height="10000" ngf-max-size="10MB">
          Select Files</button>
          <ul>
            <li ng-repeat="f in files" style="font:smaller">{{f.name}} {{f.$errorParam}}
              <span class="progress" ng-show="f.progress >= 0">
                <div style="width:{{f.progress}}%"
                    ng-bind="f.progress + '%'"></div>
              </span>
            </li>
            <li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}
            </li>
          </ul>
        </div>
        <div layout="column" flex="100">
          <h3>Rules</h3>
          <div id="editorRules">
      		</div>
        </div>
        <div layout="column" flex="100">
          <h3>Specification</h3>
          <div id="editorSpecification">
      		</div>
        </div>
        <div layout="column" flex="100">
          <h3>Judging Criteria</h3>
          <div id="editorJudgingCriteria">
      		</div>
        </div>
        <md-button class="md-primary md-raised" type="submit" ng-click="ec.save()">
          {{ ec.myEvent.event }}
        </md-button>
    </form>
</div>
