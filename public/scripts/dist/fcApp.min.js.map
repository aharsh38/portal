{"version":3,"sources":["api/api.module.js","app/fct_app.module.js","core/core.module.js","core/core.config.js","api/services/auth.factory.js","core/services/fctToast.factory.js","core/controllers/in_team/addEvent.controller.js","core/controllers/out/login.controller.js","core/controllers/out/register.controller.js"],"names":["angular","module","configName","$mdThemingProvider","$stateProvider","$urlRouterProvider","$locationProvider","activate","setTheme","setRoutes","theme","primaryPalette","themePalette","primary","accentPalette","accent","warnPalette","warn","html5Mode","when","otherwise","state","templateUrl","url","controller","controllerAs","config","$inject","authService","$http","facultyLogin","user","post","then","resolveFunc","catch","rejectFunc","facultyRegister","response","error","service","factory","fctToast","$mdToast","showToast","data","success","toasterClass","toaster","simple","textContent","position","hideDelay","toastClass","show","AddEventController","stateParams","initializeCKEditor","undefined","editData","vm","myEvent","event","CKEDITOR","env","ie","version","tools","enableHtml5Elements","document","height","width","initSample","isWysiwygareaAvailable","revision","plugins","get","wysiwygareaAvailable","editorElement","getById","replace","setAttribute","inline","this","LoginController","login","extend","FacultyRegistrationController","$scope","asToast","$rootScope","$state","register","registerButtonClicked","preventDefault","newUser","copy","registerSuccess","resetForm","go","registerFailure","msg","errMsg","toString","registerForm","$setPristine","$setUntouched","$on"],"mappings":"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","file":"fcApp.min.js","sourcesContent":["(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.api', []);\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct_app', [\r\n\t\t\t'fct.api',\r\n\t\t\t'fct.core'\r\n\t\t]);\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.core', [\r\n\t\t\t'ngAnimate',\r\n\t\t\t'ngMessages',\r\n\t\t\t'ngMaterial',\r\n\t\t\t'ui.router',\r\n\t\t\t'underscore',\r\n\t\t\t'ngFileUpload',\r\n\t\t\t'validation.match',\r\n\t\t\t'ngMdIcons',\r\n\t\t\t'angularMoment'\r\n\t\t]);\r\n\r\n\t// angular\r\n\t// \t.module('fct.core')\r\n\t// \t.constant('TweenMax', TweenMax)\r\n\t// \t.constant('TimelineMax', TimelineMax);\r\n\t//\r\n\t// angular\r\n\t// \t.module('fct.core')\r\n\t// \t.run(initializeCore);\r\n\t//\r\n\t// initializeCore.$inject = ['$rootScope', '$interval'];\r\n\t//\r\n\t// function initializeCore($rootScope, $interval) {\r\n\t// \tactive();\r\n\t//\r\n\t// \tfunction active() {\r\n\t// \t\tpreloader();\r\n\t// \t}\r\n\t//\r\n\t// \tfunction preloader() {\r\n\t// \t\t$rootScope.$on('$viewContentLoading', startPreloader);\r\n\t// \t\t$rootScope.$on('$viewContentLoaded', stopPreloader);\r\n\t// \t}\r\n\t//\r\n\t// \tfunction startPreloader() {\r\n\t// \t\t$rootScope.pageTransition = true;\r\n\t// \t}\r\n\t//\r\n\t//\r\n\t// \tfunction stopPreloader() {\r\n\t// \t\t$interval(function () {\r\n\t// \t\t\t$rootScope.pageTransition = false;\r\n\t// \t\t}, 2000);\r\n\t// \t}\r\n\t// }\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.core')\r\n\t\t.config(configName);\r\n\r\n\tconfigName.$inject = ['$mdThemingProvider', '$stateProvider', '$urlRouterProvider', '$locationProvider'];\r\n\r\n\tfunction configName($mdThemingProvider, $stateProvider, $urlRouterProvider, $locationProvider) {\r\n\t\tvar themePalette = {\r\n\t\t\tprimary: \"blue\",\r\n\t\t\taccent: \"amber\",\r\n\t\t\twarn: \"red\"\r\n\t\t};\r\n\r\n\t\tactivate();\r\n\r\n\t\tfunction activate() {\r\n\t\t\tsetTheme();\r\n\t\t\tsetRoutes();\r\n\t\t\t// addInterceptors();\r\n\t\t}\r\n\r\n\t\tfunction setTheme() {\r\n\t\t\t$mdThemingProvider.theme('default')\r\n\t\t\t\t.primaryPalette(themePalette.primary)\r\n\t\t\t\t.accentPalette(themePalette.accent)\r\n\t\t\t\t.warnPalette(themePalette.warn);\r\n\t\t}\r\n\r\n\t\tfunction setRoutes() {\r\n\t\t\t$locationProvider.html5Mode(true);\r\n\t\t\t$urlRouterProvider.when('/', '/login');\r\n\t\t\t$urlRouterProvider.otherwise('/login');\r\n\t\t\t$stateProvider\r\n\t\t\t\t.state('out', {\r\n\t\t\t\t\ttemplateUrl: '/templates/layouts/out.html'\r\n\t\t\t\t})\r\n\t\t\t\t.state('in_fc', {\r\n\t\t\t\t\ttemplateUrl: '/templates/layouts/in_fc.html'\r\n\t\t\t\t})\r\n\t\t\t\t.state('in_tc', {\r\n\t\t\t\t\ttemplateUrl: '/templates/layouts/in_tc.html'\r\n\t\t\t\t})\r\n\t\t\t\t.state('out.login', {\r\n\t\t\t\t\turl: '/login',\r\n\t\t\t\t\ttemplateUrl: '/templates/pages/out/login.html'\r\n\t\t\t\t\t// controller: 'LoginController',\r\n\t\t\t\t\t// controllerAs: 'lc'\r\n\t\t\t\t})\r\n\t\t\t\t.state('out.register', {\r\n\t\t\t\t\turl: '/register',\r\n\t\t\t\t\ttemplateUrl: '/templates/pages/out/register.html',\r\n\t\t\t\t\tcontroller: 'FacultyRegistrationController',\r\n\t\t\t\t\tcontrollerAs: 'frc'\r\n\t\t\t\t})\r\n\t\t\t\t.state('in_tc.verifyFaculty', {\r\n\t\t\t\t\turl: '/team/login',\r\n\t\t\t\t\ttemplateUrl: '/templates/pages/out/login.html'\r\n\t\t\t\t})\r\n\t\t\t\t.state('in_tc.addEvent', {\r\n\t\t\t\t\turl: '/team/addEvent',\r\n\t\t\t\t\ttemplateUrl: '/templates/pages/in/addEvent.html',\r\n\t\t\t\t\tcontroller: 'AddEventController',\r\n\t\t\t\t\tcontrollerAs: 'aec'\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.api')\r\n\t\t.factory('authService', authService);\r\n\r\n\tauthService.$inject = ['$http'];\r\n\r\n\tfunction authService($http) {\r\n\t\tvar service = {\r\n\t\t\tfacultyLogin: facultyLogin,\r\n\t\t\tfacultyRegister: facultyRegister\r\n\t\t};\r\n\r\n\t\treturn service;\r\n\r\n\t\tfunction facultyLogin(user) {\r\n\t\t\treturn $http.post('/api/auth/faculty/login', user)\r\n\t\t\t\t.then(resolveFunc)\r\n\t\t\t\t.catch(rejectFunc);\r\n\t\t}\r\n\r\n\t\tfunction facultyRegister(user) {\r\n\t\t\treturn $http.post('/api/auth/faculty/register', user)\r\n\t\t\t\t.then(resolveFunc)\r\n\t\t\t\t.catch(rejectFunc);\r\n\t\t}\r\n\r\n\t\tfunction resolveFunc(response) {\r\n\t\t\treturn response;\r\n\t\t}\r\n\r\n\t\tfunction rejectFunc(error) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\tfunction saveToken(token) {\r\n\t\t\t$window.localStorage['auth-token'] = token;\r\n\t\t}\r\n\r\n\t\tfunction getToken() {\r\n\t\t\treturn $window.localStorage['auth-token'];\r\n\t\t}\r\n\r\n\t\tfunction removeToken() {\r\n\t\t\t$window.localStorage.removeItem('auth-token');\r\n\t\t}\r\n\r\n\t\tfunction checkLoggedIn() {\r\n\t\t\tvar token = getToken();\r\n\t\t\tvar payload;\r\n\t\t\tif (token) {\r\n\t\t\t\tpayload = token.split('.')[1];\r\n\t\t\t\tpayload = $window.atob(payload);\r\n\t\t\t\tpayload = JSON.parse(payload);\r\n\t\t\t\t$rootScope.user = {};\r\n\t\t\t\t$rootScope.user.email = payload.email;\r\n\t\t\t\t$rootScope.user.mobileno = payload.mobileno;\r\n\t\t\t\t$rootScope.user.name = payload.name;\r\n\t\t\t\t$rootScope.user.id = payload._id;\r\n\t\t\t\treturn (payload.exp > Date.now() / 1000);\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.core')\r\n\t\t.factory('fctToast', fctToast);\r\n\r\n\tfctToast.$inject = ['$mdToast'];\r\n\r\n\tfunction fctToast($mdToast) {\r\n\t\tvar service = {\r\n\t\t\tshowToast: showToast\r\n\t\t};\r\n\r\n\t\treturn service;\r\n\r\n\t\tfunction showToast(data, success) {\r\n\t\t\tvar toasterClass = 'md-toast-warn';\r\n\r\n\t\t\tif (success) {\r\n\t\t\t\ttoasterClass = 'md-toast-success';\r\n\t\t\t}\r\n\r\n\t\t\tvar toaster = $mdToast.simple()\r\n\t\t\t\t.textContent(data)\r\n\t\t\t\t.position('bottom right')\r\n\t\t\t\t.hideDelay(3000)\r\n\t\t\t\t.toastClass(toasterClass);\r\n\t\t\t$mdToast.show(toaster);\r\n\t\t}\r\n\t}\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n      .module('fct.core')\r\n      .controller('AddEventController', AddEventController);\r\n\r\n    AddEventController.$inject = ['$stateParams'];\r\n    function AddEventController(stateParams) {\r\n        var vm = this;\r\n        vm.myEvent = [];\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n          initializeCKEditor();\r\n        }\r\n\r\n        function initializeCKEditor() {\r\n          if(stateParams.editData !== undefined &&\r\n              stateParams.editData !== null) {\r\n            vm.myEvent = stateParams.editData;\r\n            vm.myEvent.event = \"Insert\";\r\n          } else {\r\n            vm.myEvent.event = \"Update\";\r\n          }\r\n\r\n          if ( CKEDITOR.env.ie && CKEDITOR.env.version < 9 )\r\n          \tCKEDITOR.tools.enableHtml5Elements( document );\r\n\r\n          // The trick to keep the editor in the sample quite small\r\n          // unless user specified own height.\r\n          CKEDITOR.config.height = 150;\r\n          CKEDITOR.config.width = 'auto';\r\n\r\n          var initSample = ( function() {\r\n          \tvar wysiwygareaAvailable = isWysiwygareaAvailable();\r\n\r\n          \treturn function() {\r\n          \t\tvar editorElement = CKEDITOR.document.getById( 'editor' );\r\n\r\n          \t\t// Depending on the wysiwygare plugin availability initialize classic or inline editor.\r\n          \t\tif ( wysiwygareaAvailable ) {\r\n          \t\t\tCKEDITOR.replace( 'editor' );\r\n          \t\t} else {\r\n          \t\t\teditorElement.setAttribute( 'contenteditable', 'true' );\r\n          \t\t\tCKEDITOR.inline( 'editor' );\r\n\r\n          \t\t\t// TODO we can consider displaying some info box that\r\n          \t\t\t// without wysiwygarea the classic editor may not work.\r\n          \t\t}\r\n\r\n          \t\t//CKEDITOR.instances[\"editor\"].getData()\r\n          \t\t//to get the data\r\n          \t};\r\n\r\n          \tfunction isWysiwygareaAvailable() {\r\n          \t\t// If in development mode, then the wysiwygarea must be available.\r\n          \t\t// Split REV into two strings so builder does not replace it :D.\r\n          \t\tif ( CKEDITOR.revision == ( '%RE' + 'V%' ) ) {\r\n          \t\t\treturn true;\r\n          \t\t}\r\n\r\n          \t\treturn !!CKEDITOR.plugins.get( 'wysiwygarea' );\r\n          \t}\r\n          } )();\r\n          initSample();\r\n        }\r\n    }\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.core')\r\n\t\t.controller('LoginController', LoginController);\r\n\r\n\tLoginController.$inject = ['authService'];\r\n\r\n\tfunction LoginController(authService) {\r\n\t\tvar vm = this;\r\n\t\tvm.user = {};\r\n\r\n\t\tangular.extend(vm, {\r\n\t\t\tlogin: login\r\n\t\t});\r\n\r\n\t\tactivate();\r\n\r\n\t\tfunction activate() {\r\n\r\n\t\t}\r\n\r\n\t\tfunction login() {\r\n\t\t\tif (vm.user !== null) {\r\n\t\t\t\treturn authService.login(vm.user);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();\r\n","(function () {\r\n\t'use strict';\r\n\r\n\tangular\r\n\t\t.module('fct.core')\r\n\t\t.controller('FacultyRegistrationController', FacultyRegistrationController);\r\n\r\n\tFacultyRegistrationController.$inject = ['authService', '$scope', 'asToast', '$rootScope', '$state'];\r\n\r\n\tfunction FacultyRegistrationController(authService, $scope, asToast, $rootScope, $state) {\r\n\t\tvar vm = this;\r\n\t\tvm.user = {};\r\n\t\tvm.registerButtonClicked = false;\r\n\r\n\t\tangular.extend(vm, {\r\n\t\t\tregister: register\r\n\t\t});\r\n\r\n\t\tactivate();\r\n\r\n\t\tfunction activate() {\r\n\r\n\t\t}\r\n\r\n\t\tfunction register() {\r\n\t\t\tif (vm.registerButtonClicked) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tvm.registerButtonClicked = true;\r\n\t\t\t}\r\n\t\t\tvar newUser = angular.copy(vm.user);\r\n\t\t\tauthService.register(newUser);\r\n\t\t}\r\n\r\n\t\t$rootScope.$on('SuccessRegister', registerSuccess);\r\n\t\t$rootScope.$on('ErrorRegister', registerFailure);\r\n\r\n\t\tfunction registerSuccess(event) {\r\n\t\t\tasToast.showToast(\"Succefully Registered\", true);\r\n\t\t\tvm.registerButtonClicked = false;\r\n\t\t\tresetForm();\r\n\t\t\t$state.go('inapp.orders');\r\n\t\t}\r\n\r\n\t\tfunction registerFailure(event, error) {\r\n\t\t\tvar msg = error.data.errMsg.toString();\r\n\t\t\tvm.registerButtonClicked = false;\r\n\t\t\tasToast.showToast(msg);\r\n\t\t\tresetForm();\r\n\t\t}\r\n\r\n\t\tfunction resetForm() {\r\n\t\t\tvm.user = {};\r\n\t\t\t$scope.registerForm.$setPristine();\r\n\t\t\t$scope.registerForm.$setUntouched();\r\n\t\t}\r\n\t}\r\n})();\r\n"]}